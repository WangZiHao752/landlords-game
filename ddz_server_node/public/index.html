<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://lib.baomitu.com/socket.io/4.1.3/socket.io.js"></script>
    <title>Document</title>
</head>
<body>
    <div class="create">
        <button id="_create">创建房间</button>
    </div>
    <div class="join-rom">
        <input type="text" placeholder="输入房间号" name="" id="ipt">
        <button id="_join">加入房间</button>
    </div>
    <script>
        const socket = io('http://localhost:8888');

        //连接成功事件
        socket.on('connection',data=>{
            console.log(data);
            //登录
            socket.emit('notify', {
                cmd:"wxlogin",
                data:{
                   uniqueID:"a1362323884",
                },
                callindex:1
            });
        })

        socket.on('notify',(data)=>{
            console.log(data);
        })

        _create.onclick = function createRoom(){
            console.log('创建房间');
            socket.emit('notify',{
                cmd:"createroom_req",
                data:{
                    rate:4,
                },
                callindex:1
            })

        }
        _join.onclick = function joinRoom(){
            console.log('加入房间');
            const roomid = ipt.value;
            console.log(roomid);
            socket.emit('notify',{
                cmd:"joinroom_req",
                data:{
                    roomid:roomid,
                },
                callindex:1
            })
        }
    </script>
</body>
</html>